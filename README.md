# Тестовое задание Python

### **Фамилия Имя:** Юрченко Юлия

## Описание проекта

Данный проект представляет собой сервис, который обрабатывает и отвечает на HTTP запросы, используя Django и Django Rest Framework. Сервис позволяет получать список городов и улиц, создавать новые магазины и фильтровать список магазинов по различным параметрам.

## Функциональность

### Запросы:
1. **GET http://127.0.0.1:8000/my_app/city/** — получение списка всех городов из базы данных;
2. **GET http://127.0.0.1:8000/my_app/city/{city_id}/street/** — получение списка всех улиц указанного города (city_id — идентификатор города);
3. **POST http://127.0.0.1:8000/my_app/shop/** — создание нового магазина. Запрос должен содержать JSON объект с данными магазина, в ответ возвращается id созданного магазина;

   **Пример тела запроса**:
   ```bash
   {
     "name": "Магазин 1",
     "city": 1,
     "street": 1,
     "house": "1",
     "opening_time": "09:00:00",
     "closing_time": "21:00:00"
   } 
4. **GET /shop/?street=&city=&open=0/1** - получение списка магазинов.
   - Метод принимает параметры для фильтрации. Все параметры необязательные. Если параметры не указаны, возвращаются все магазины. При наличии хотя бы одного параметра выполняется фильтрация по нему.
   - Параметр `open`: 0 - закрыт, 1 - открыт. Статус определяется на основе параметров "Время открытия", "Время закрытия" и текущего времени сервера.

## Установка и настройка проекта

1. Клонируйте репозиторий:
   ````bash
   git clone https://github.com/Yuli-chka/test_task_python
   cd Test_task
2. Создайте и активируйте виртуальное окружение:
   ````bash
   python -m venv .venv
   .venv\Scripts\activate  # Для Windows
   source .venv/bin/activate  # Для MacOS/Linux
3. Установите зависимости:
   ````bash 
   pip install -r requirements.txt
4. Выполните миграции:
   ````bash
   python manage.py migrate
5. Запустите сервер:
   ````bash
   python manage.py runserver
6. Теперь вы можете делать запросы к API, сервер будет доступен по адресу http://127.0.0.1:8000/
### Создание данных в базе данных
#### Для создания городов и улиц в базе данных вы можете использовать Django Shell:
1. Откройте Django Shell:
   ````bash
   python manage.py shell
2. Создайте города:
   ````bash
   from my_app.models import City
   city1 = City.objects.create(name='Город 1')
   city2 = City.objects.create(name='Город 2')
3. Создайте улицы:
   ````bash
   from my_app.models import Street
   street1 = Street.objects.create(name='Улица 1', city=city1)
   street2 = Street.objects.create(name='Улица 1', city=city2)
4. Теперь у вас есть города и улицы для тестирования
## Ошибки
1. Если данные не отображаются на сайте, попробуйте перезапустить сервер.
2. Если вы получаете ошибку 400, проверьте правильность формата тела запроса. Убедитесь, что все необходимые поля указаны и данные соответствуют ожидаемым типам.
